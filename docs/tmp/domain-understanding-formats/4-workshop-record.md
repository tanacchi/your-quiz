# 案4: ワークショップ記録型

## フォーマット概要

specifications分析を複数のワークショップセッションとして記録。イベントストーミング風に時系列で発見・理解・疑問を記録し、ドメイン理解のプロセス自体を資産として蓄積。

## 構成

```markdown
# ドメイン理解ワークショップ記録

## ワークショップ概要
- 期間: [開始日] - [終了日]
- 参加者: [開発者名]
- 情報源: docs/specifications/

## セッション1: user-stories分析
### 発見事項
### 抽出概念
### 疑問点
### アクションアイテム

## セッション2: requirements分析
### 前セッションからの引き継ぎ
### 新規発見事項
### 概念の詳細化
### 新たな疑問点

## セッション3: scenarios分析
### 発見事項
### ビジネスルール特定
### フロー理解
### 統合疑問点

## セッション4: ユビキタス言語定義
### 用語整理
### 表現統一
### BDD表現検討

## セッション5: 質問事項まとめ
### 問い合わせ作成
### 優先度設定
```

## サンプル実装

```markdown
# ドメイン理解ワークショップ記録

## ワークショップ概要
- **期間**: 2025-07-28 10:00 - 2025-07-28 16:00
- **参加者**: 開発者（Claude）
- **情報源**: docs/project/specifications/
- **目的**: クイズアプリケーションのドメイン理解とユビキタス言語確立

---

## 📋 セッション1: user-stories分析 (10:00-11:00)

### 📖 分析対象
- user-stories/user-story-quiz.md

### 🔍 発見事項
- **主要アクター**: 匿名ユーザー、管理者
- **核心価値**: 簡単なクイズ作成・回答体験
- **特徴的UI**: Tinder風スワイプ操作

### 💡 抽出概念
| 概念 | 初期理解 | 行番号 |
|------|----------|--------|
| Quiz | ◯×形式の問題 | L15 |
| Anonymous User | ログイン不要ユーザー | L8 |
| Swipe Gesture | 左右スワイプ操作 | L22 |
| Creator | クイズ作成者 | L18 |

### ❓ 疑問点
1. 匿名ユーザーの識別方法は？
2. スワイプ操作の詳細仕様は？
3. 作成者と匿名ユーザーの関係は？

### ✅ アクションアイテム
- [ ] requirements.mdで識別方法確認
- [ ] scenarios.mdでUI詳細確認

---

## 📋 セッション2: requirements分析 (11:15-12:30)

### 🔄 前セッションからの引き継ぎ
- 匿名ユーザー識別方法の調査
- Creator概念の詳細化

### 🔍 新規発見事項
- **匿名識別**: salt付きハッシュ使用
- **承認フロー**: 管理者による事前承認必須
- **重複許可**: 同一ユーザー・同一問題でも投稿可能

### 💡 概念の詳細化
| 概念 | 更新理解 | エビデンス |
|------|----------|------------|
| Creator | salt付きハッシュで識別される匿名投稿者 | requirements#L35 |
| Approval | 管理者による公開前承認プロセス | requirements#L45 |
| Quiz | 承認フロー付きの◯×問題 | requirements#L22 |

### ❓ 新たな疑問点
1. salt付きハッシュの具体的仕様は？
2. 承認基準の詳細は？
3. 管理者権限の管理方法は？

### 🎯 解決した疑問
- ✅ 匿名ユーザー識別方法 → salt付きハッシュ
- ✅ Creator定義 → 匿名でのクイズ投稿者

---

## 📋 セッション3: scenarios分析 (13:30-14:30)

### 🔍 発見事項
- **正常フロー**: 投稿→承認→公開→回答の流れ
- **オフライン対応**: ブラウザ保存と同期
- **エラーハンドリング**: ネットワークエラー時の継続利用

### 🎯 ビジネスルール特定
| ルール | エビデンス | 制約 |
|--------|------------|------|
| 承認後公開 | success-scenarios#L15 | 承認済みのみ回答可能 |
| オフライン継続 | success-scenarios#L25 | 事前ダウンロード必要 |
| 回答履歴保持 | success-scenarios#L30 | ブラウザ永続化 |

### 🔄 フロー理解
```
匿名ユーザー → クイズ作成 → 投稿 → [承認待ち] → 管理者承認 → 公開 → 他ユーザー回答
```

### ❓ 統合疑問点
1. オフライン同期の詳細方式は？
2. 承認期間の制限はあるか？
3. 回答履歴の保存期間は？

---

## 📋 セッション4: ユビキタス言語定義 (14:45-15:30)

### 📝 用語整理
| 日本語 | 英語 | 定義 | 根拠 |
|--------|------|------|------|
| **クイズ** | Quiz | ◯×形式の問題・正解・解説で構成される学習単位 | user-story#L15, req#L22 |
| **作成者** | Creator | salt付きハッシュで識別される匿名のクイズ投稿者 | req#L35 |
| **承認** | Approval | 管理者による投稿クイズの公開可否判定 | req#L45 |
| **回答** | Answer | ユーザーのクイズに対する◯×選択とその記録 | success#L20 |

### 🔄 表現統一ルール
- **動詞統一**: 「投稿する」（「作成する」「登録する」は使わない）
- **状態表現**: 「承認待ち」「承認済み」「承認拒否」
- **UI表現**: 「スワイプ操作」「正誤判定」

### 🧪 BDD表現検討
```gherkin
Given クイズが承認済み状態である
When ユーザーが右スワイプする  
Then 正誤判定が表示される
And 回答履歴に記録される
```

---

## 📋 セッション5: 質問事項まとめ (15:45-16:00)

### 📝 問い合わせ作成

#### 🔴 高優先度
1. **クイズ承認基準の詳細**
   ```
   # DDD設計 - 問い合わせ
   
   ## Q1: クイズ承認基準
   requirements-quiz.md#L45で管理者承認が必要とありますが、具体的な承認基準が不明です。
   - A) 内容の適切性のみチェック
   - B) 重複チェック + 内容適切性チェック  
   - C) その他の基準がある
   ```

2. **salt付きハッシュ仕様**
   ```
   ## Q2: 匿名ユーザー識別仕様
   requirements-quiz.md#L35でsalt付きハッシュとありますが、具体的仕様が不明です。
   - A) SHA-256 + ランダムsalt
   - B) bcrypt使用
   - C) その他のハッシュ方式
   ```

#### 🟡 中優先度  
3. **管理者権限管理方法**
4. **オフライン同期の詳細方式**
5. **回答履歴の保存期間**

### 🎯 優先度設定根拠
- 高: 実装設計に直接影響
- 中: 機能設計に影響
- 低: UI/UX詳細

---

## 📊 ワークショップ成果サマリー

### ✅ 達成事項
- 主要概念8個の特定・理解
- ビジネスルール5個の特定
- ユビキタス言語候補15語の定義
- 構造化された質問5個の生成

### 📈 理解度向上
| 概念 | セッション開始時 | セッション終了時 | 向上 |
|------|------------------|------------------|------|
| Quiz | 30% | 85% | +55% |
| Creator | 10% | 75% | +65% |
| Approval | 0% | 60% | +60% |

### 🎯 次のアクション
1. 高優先度質問の問い合わせ実行
2. 回答を受けた用語辞書の確定
3. 詳細概念の追加調査
```

## 利点・欠点

### 利点
- ✅ 理解プロセスの可視化
- ✅ 時系列での発見・進化の記録
- ✅ 知識獲得の再現性
- ✅ チーム共有時の経緯説明が容易

### 欠点
- ❌ 記録に時間がかかる
- ❌ 情報が時系列で散在
- ❌ 最新状態の把握が困難

## 適用場面
- ドメイン理解プロセスの記録が重要
- 複数人でのナレッジ共有が必要
- 後からの振り返り・改善が重要