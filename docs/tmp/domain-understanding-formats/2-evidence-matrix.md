# 案2: エビデンス中心マトリックス型

## フォーマット概要

すべての情報を単一のマトリックス形式で管理。概念×エビデンス×ビジネスルール×用語定義×理解度×質問を一覧表示し、情報の関連性を直感的に把握。

## 構成

```markdown
# ドメイン理解マトリックス

## 概念理解マトリックス
| 概念 | エビデンス | ビジネスルール | 用語定義 | 理解度 | 質問 |
|------|------------|----------------|----------|--------|------|
| Quiz | user-story#L15 | 承認フロー必須 | ◯×形式問題 | 80% | 承認基準は？ |
| Creator | requirements#L22 | 匿名識別 | salt付きハッシュ | 60% | ハッシュ仕様は？ |

## ビジネスルール詳細マトリックス
| ルール | エビデンス | 制約 | 例外 | 実装影響 | 不明点 |
|--------|------------|------|------|----------|--------|
| 承認必須 | req#L45 | 管理者のみ | なし | 承認フロー実装 | 承認基準 |

## 用語統一マトリックス
| 日本語 | 英語 | エビデンス | 定義 | 用法例 | BDD表現 |
|--------|------|------------|------|--------|---------|
| クイズ | Quiz | user-story#L15 | ◯×問題 | クイズを作成 | Given クイズが存在 |

## 質問事項マトリックス
| 質問カテゴリ | 対象概念 | 詳細質問 | 緊急度 | 選択肢 |
|-------------|----------|----------|--------|--------|
| ビジネスルール | Quiz承認 | 承認基準の詳細 | 高 | A)内容のみ B)重複+内容 |
```

## サンプル実装

```markdown
# ドメイン理解マトリックス

## 概念理解マトリックス

| 概念 | エビデンス | ビジネスルール | 用語定義(日/英) | 理解度 | 残存質問 |
|------|------------|----------------|-----------------|--------|----------|
| **Quiz** | [user-story-quiz.md#L15](../specifications/user-stories/user-story-quiz.md#L15)<br>[requirements-quiz.md#L22](../specifications/requirements/requirements-quiz.md#L22) | • 管理者承認必須<br>• ◯×形式限定<br>• 重複投稿許可 | クイズ/Quiz<br>◯×形式の問題と解説の組み合わせ | 85% | • 承認基準の詳細<br>• 承認期間の制限 |
| **Creator** | [requirements-quiz.md#L35](../specifications/requirements/requirements-quiz.md#L35)<br>[success-scenarios#L8](../specifications/success-scenarios/success-quiz.md#L8) | • 匿名識別<br>• salt付きハッシュ<br>• 作成権限制御 | 作成者/Creator<br>匿名でクイズを投稿するユーザー | 60% | • saltハッシュ仕様<br>• デバイス変更時の扱い |
| **Approval** | [requirements-quiz.md#L45](../specifications/requirements/requirements-quiz.md#L45) | • 管理者のみ実行<br>• 個別判定<br>• 拒否理由記録 | 承認/Approval<br>投稿されたクイズの公開可否判定 | 40% | • 承認基準の明文化<br>• 承認者権限管理 |

## ビジネスルール詳細マトリックス

| ルール名 | エビデンス | 制約条件 | 例外条件 | 実装への影響 | 疑問・不明点 |
|----------|------------|----------|----------|-------------|-------------|
| **クイズ承認必須** | [req#L45](../specifications/requirements/requirements-quiz.md#L45) | • 管理者権限必要<br>• 承認前は非公開 | なし | • 承認フロー実装<br>• 権限チェック機能 | 承認基準の具体的内容 |
| **重複投稿許可** | [user-story#L28](../specifications/user-stories/user-story-quiz.md#L28) | • 同一ユーザー・同一問題でも可<br>• 承認は個別 | なし | • 重複チェック不要<br>• 個別管理必要 | なし |
| **匿名ユーザー識別** | [req#L35](../specifications/requirements/requirements-quiz.md#L35) | • ログイン不要<br>• salt付きハッシュ使用 | なし | • ハッシュ生成機能<br>• デバイス識別機能 | ハッシュアルゴリズム詳細 |

## 用語統一マトリックス

| 日本語 | 英語 | エビデンス | 定義 | 用法例 | BDD表現例 |
|--------|------|------------|------|--------|-----------|
| **クイズ** | Quiz | [user-story#L15](../specifications/user-stories/user-story-quiz.md#L15) | ◯×形式の問題・正解・解説の組み合わせ | 「クイズを作成する」「クイズに回答する」 | Given: クイズが存在する<br>When: ユーザーがクイズに回答する |
| **作成者** | Creator | [req#L35](../specifications/requirements/requirements-quiz.md#L35) | 匿名でクイズを投稿するユーザー | 「作成者のクイズを表示」 | Given: 作成者がログインしている |
| **承認** | Approval | [req#L45](../specifications/requirements/requirements-quiz.md#L45) | 投稿クイズの公開可否を管理者が判定すること | 「クイズを承認する」 | When: 管理者がクイズを承認する |

## 質問事項マトリックス

| カテゴリ | 対象概念 | 具体的質問 | 緊急度 | 選択肢 | 背景・理由 |
|----------|----------|------------|--------|--------|-----------|
| **ビジネスルール** | Quiz承認 | クイズ承認の具体的基準は何ですか？ | 高 | A) 内容適切性のみ<br>B) 重複チェック + 内容適切性<br>C) その他基準あり | specifications/requirements-quiz.md#L45で承認が必要とあるが基準が不明 |
| **技術仕様** | Creator識別 | salt付きハッシュの具体的仕様は？ | 中 | A) SHA-256 + ランダムsalt<br>B) bcrypt<br>C) その他方式 | 匿名ユーザー識別の実装に必要 |
| **UI/UX** | スワイプ操作 | スワイプの詳細仕様は？ | 低 | A) Tinder風スワイプ<br>B) ボタン代替<br>C) 両方対応 | success-scenarios で言及されているが詳細不明 |
```

## 利点・欠点

### 利点
- ✅ 情報の関連性が一目で分かる
- ✅ エビデンス追跡が容易
- ✅ 漏れ・重複の発見が簡単
- ✅ 更新時の影響範囲が明確

### 欠点
- ❌ 表が大きくなりすぎる可能性
- ❌ 詳細な説明を記載しにくい
- ❌ 印刷時の可読性が低い

## 適用場面
- 概念数が中程度（10-20個）
- エビデンス追跡が重要
- チーム全体での情報共有が必要