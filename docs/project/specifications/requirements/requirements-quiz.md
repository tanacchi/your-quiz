# 非機能要件: クイズ機能

## パフォーマンス要件

- **API応答時間**: 95%ile で 100ms以内
- **同時接続数**: 最大100接続
- **データ処理量**: 1時間あたり最大1000個のクイズ作成

## データ整合性要件

- **問題文**: 必須、500文字以内
- **正解**: 必須、◯または×の2択
- **解説**: 任意、1000文字以内
- **タグ**: 任意、複数設定可能、半角・全角英数字・日本語対応
- **重複投稿**: 同一ユーザーによる同一問題の重複投稿は許可
- **文字制約**: XSS対策としてHTMLタグはサニタイズ処理

## セキュリティ要件

- **承認フロー**: クイズ投稿は即時公開せず、管理者による承認待ち状態
- **管理者承認**: 初期段階はDB直接操作、将来的に管理画面での承認機能
- **作成者識別**: salt付きハッシュによるブラウザ上での作成者判定
- **入力サニタイズ**: 問題文・解説・タグのHTMLタグ除去・エスケープ処理

## 可用性要件

- **対応環境**: スマートフォンWebブラウザのみ（PC未対応）
- **言語対応**: 日本語のみ
- **アクセシビリティ**: 初期段階では考慮しない
- **オフライン対応**: ネットワーク断線時のオフラインモード提供

## データ保存要件

- **サーバーデータ**: 承認済みクイズ、承認待ちクイズ
- **ブラウザデータ**: 回答履歴（indexedDB）、作成者識別情報、オフライン用事前ダウンロードデータ
- **データ同期**: オンライン復旧時の回答データ同期

## ユーザー体験要件

- **操作性**: 操作の少なさとわかりやすさを重視
- **回答UI**: Tinder UI（右スワイプ=◯、左スワイプ=×）
- **結果表示**: 正誤判定をバンと表示→フェードアウト→解説+次の問題ボタン
- **履歴機能**: 問題文・解答日時のリスト表示、詳細確認・再解答機能
