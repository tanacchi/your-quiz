# 成功パターン: クイズ機能

## シナリオ: タグ絞り込みによるクイズ検索・回答

**前提条件**:

- ユーザーがスマートフォンブラウザでアプリにアクセス済み
- 承認済みクイズが複数存在し、タグが設定されている
- ブラウザのネットワーク接続が正常

**実行手順**:

1. ユーザーがタグを選択してクイズを絞り込む
2. 絞り込まれたクイズ一覧から問題を選択
3. 右スワイプ（◯）または左スワイプ（×）で回答
4. 正誤判定結果をバンと表示→フェードアウト
5. 解説と「次の問題へ」ボタンを表示

**期待結果**:

- タグによるフィルタリングが正常に動作
- Tinder UIによるスムーズな回答体験
- 正誤判定の即座表示と解説表示
- 回答履歴がブラウザ（indexedDB）に保存される

## シナリオ: クイズ作成と承認フロー

**前提条件**:

- ユーザーがクイズ作成画面にアクセス
- 問題文・正解・解説・タグの入力フィールドが表示

**実行手順**:

1. 問題文（500文字以内）を入力
2. 正解（◯または×）を選択
3. 解説（1000文字以内・任意）を入力
4. タグ（日本語・英数字・任意）を入力
5. 投稿ボタンをクリック

**期待結果**:

- クイズがサーバーに承認待ち状態で保存される
- ブラウザでは即座に反映され、作成者は自分のクイズを確認可能
- salt付きハッシュでブラウザに作成者識別情報が保存される

## シナリオ: 回答履歴の参照

**前提条件**:

- ユーザーが過去にクイズを解答済み
- 回答履歴がブラウザ（indexedDB）に保存済み

**実行手順**:

1. 回答履歴画面にアクセス
2. 履歴リストから特定の問題を選択
3. 「詳細を見る」または「もう一度解答する」ボタンをクリック

**期待結果**:

- 問題文、解答日時が履歴リストに表示される
- 詳細表示で過去の回答内容と正誤が確認できる
- 再解答機能で同じ問題を再度解答できる

## シナリオ: オフラインモード

**前提条件**:

- 事前にクイズデータがブラウザにダウンロード済み
- ネットワーク接続が断線状態

**実行手順**:

1. アプリにアクセス時にネットワークエラーが発生
2. 「通信に失敗しました。オフラインモードで遊びますか？」メッセージ表示
3. オフラインモードを選択
4. 事前ダウンロード済みのクイズを解答

**期待結果**:

- オフライン状態でもクイズ解答が可能
- 回答結果はブラウザに一時保存
- ネットワーク復旧時に同期処理が実行される
