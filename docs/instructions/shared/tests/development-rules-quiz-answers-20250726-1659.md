# 開発ルール理解確認問題集（解答用紙）

## ⚠️ 重要な注意事項

**この問題用紙は、解答記入専用です。答えを知っているかのような推測による記入は禁止です。**

必ず対象ドキュメント（workflow/、tools/、languages/ 配下）を読んだ上で、ルールに基づく正しい判断を記入してください。

## 対象ペルソナ

「Webやプログラミング技術、文章理解力は高いが、そのドキュメントで扱う対象についての知識はなく、指示を与えないと勝手な実装やバッドプラクティスを入れ込んだ実装をしてしまいがちで、目的や遵守事項を細かく明確に指示しないといけない開発者」

## 使用方法

### 回答前の準備

1. コンテキストをクリアする
2. 必要なドキュメント（workflow/、tools/、languages/ 配下）を読む

### 回答ファイルの作成

3. **この問題用紙ファイルをコピーして、新しいファイル名で保存する**
   - ファイル名例: `development-rules-quiz-questions-20241226-1430.md`
   - 形式: `development-rules-quiz-questions-YYYYMMDD-HHMM.md`（日付と時刻を含める）

### 回答の記入

4. コピーしたファイル内の各問題に対して「求める対応」と「理由」を記入する
5. **元のファイル（このファイル）は絶対に編集しない**

---

## 問題

### 仕様整理フェーズ

**問題1**: 「ユーザ投稿フォームをいい感じに作って」

- **求める対応**: ユーザーに曖昧な指示の詳細確認を依頼する。「いい感じ」では4W1H形式での仕様整理ができないため、具体的なユーザーストーリー、成功・失敗パターン、RESTステータスと振る舞いの明示を求める。
- **理由**: workflow/common.mdで「曖昧な指示・不明点は作業前にユーザー問い合わせ必須」とされており、workflow/specification.mdでユーザーストーリーを4W1H形式で明確に記述することが必須要件として定められているため。

**問題2**: 「ログイン機能を実装して」

- **求める対応**: まず仕様整理フェーズから開始する必要があることをユーザーに説明し、ログイン機能の4W1H形式でのユーザーストーリー、成功・失敗パターンの詳細化を依頼する。
- **理由**: workflow/workflow.mdで12工程の段階的承認必須の線形フローが定められており、実装前に必ず仕様整理から開始する必要があるため。「省略・独断禁止」が絶対遵守事項として明記されている。

**問題3**: 「なるべく早く動くものを作って」

- **求める対応**: ワークフローの省略は禁止であることを説明し、品質を損なう変更は絶対禁止であることを伝える。12工程の段階的承認プロセスを経ることが必須であることを説明する。
- **理由**: workflow/common.mdで「独断禁止」「品質を損なう変更禁止」が絶対遵守事項とされ、workflow/workflow.mdで「省略・独断禁止」「ワークフロー省略禁止」が明記されているため。

### 全体技術設計フェーズ

**問題4**: 「データベースはMySQLで」

- **求める対応**: 技術選定の判断根拠を確認する。アーキテクチャ設計においてDB種別選定の技術的トレードオフと理由、全ての技術選定の表形式での比較検討が必要であることを説明する。
- **理由**: workflow/workflow.mdの全体技術設計フェーズで「技術的トレードオフと理由が箇条書きで示されている」「全ての技術選定が表形式で比較検討されている」ことが完了判定基準として明記されているため。

**問題5**: 「マイクロサービスにしよう」

- **求める対応**: アーキテクチャパターン選定の根拠と比較検討が必要であることを説明し、モノリス vs マイクロサービスのトレードオフ分析を表形式で比較検討することを提案する。ADR作成も検討する。
- **理由**: workflow/workflow.mdでアーキテクチャパターン選定が完了判定基準に含まれ、「技術的トレードオフと理由が箇条書きで示されている」「全ての技術選定が表形式で比較検討されている」ことが必須とされているため。

**問題6**: 「RESTでAPIを作ろう」

- **求める対応**: 同期API vs Pub/Subの比較検討が必要であることを説明し、RESTを選択する技術的根拠とトレードオフの明確化を求める。アーキテクチャ全体での位置づけ確認も必要。
- **理由**: workflow/workflow.mdの全体技術設計で「同期API vs Pub/Sub、モノリス vs マイクロサービス、DB種別選定などを明確に定義せよ」が必須要件として定められているため。

### DDD設計フェーズ

**問題7**: 「UserクラスとOrderクラスを作って」

- **求める対応**: DDD設計の前提条件として全体技術設計のユーザー承認が完了しているか確認し、エンティティ・VO・ドメインサービス、ユースケースI/Fの設計を型定義付きで示す必要があることを説明する。
- **理由**: workflow/workflow.mdのDDD設計フェーズで「BC、エンティティ／VO／ドメインサービス、ユースケースI/Fを設計せよ」が必須要件とされ、「エンティティ・VOが型定義付きで示されている」ことが完了判定基準として明記されているため。

**問題8**: 「データベースのテーブル設計もやって」

- **求める対応**: DDD設計とDB設計は別工程であることを説明し、現在のDDD設計フェーズではドメインモデルの設計に集中し、DB設計は後の工程で行うことを伝える。
- **理由**: workflow/workflow.mdで12工程の線形フローが定められており、DDD設計（3番目）とDB設計（5番目）は明確に分離された工程であるため。「省略・独断禁止」により工程の混同は許可されない。

### API設計フェーズ

**問題9**: 「OpenAPIの仕様書を書いて」

- **求める対応**: API設計フェーズの前提条件としてDDD設計のユーザー承認が完了しているか確認し、ドメインモデルに基づくOpenAPI 3.0仕様書の作成を開始する。全エンドポイントのリクエスト/レスポンス構造、エラーハンドリング、バリデーションルールの定義が必要。
- **理由**: workflow/workflow.mdのAPI設計フェーズで「OpenAPI 3.0仕様書が作成されている」「全エンドポイントのリクエスト/レスポンス構造が定義されている」「エラーハンドリングとHTTPステータスコードが明示されている」ことが完了判定基準として明記されているため。

**問題10**: 「とりあえずGETだけでいいよ」

- **求める対応**: 仕様整理で定義された成功・失敗パターンに基づく全エンドポイントの設計が必要であることを説明し、「とりあえず」での省略は品質を損なう変更として禁止されていることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「省略・簡略化・問題回避は絶対禁止」とされ、API設計の完了判定基準では全エンドポイントの定義が必須とされているため。

### DB設計フェーズ

**問題11**: 「ユーザーテーブルを作って」

- **求める対応**: API設計のユーザー承認が完了しているか確認し、エンティティ／VOに基づくテーブルスキーマの設計とER図作成、マイグレーションファイルの雛形生成を行う。
- **理由**: workflow/workflow.mdのDB設計フェーズで「前提条件：API設計のユーザー承認完了」「エンティティ／VOに基づくテーブルスキーマを設計せよ」「ER図が作成されている」「マイグレーションファイルの雛形が生成されている」ことが明記されているため。

**問題12**: 「とりあえず動くように」

- **求める対応**: 「とりあえず」による品質を損なう設計は禁止されていることを説明し、エンティティ／VOに基づく適切なテーブルスキーマ設計とER図作成が必須であることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「省略・簡略化・問題回避は絶対禁止」が絶対遵守事項とされているため。

### 技術選定フェーズ

**問題13**: 「ReactとExpressでいいよ」

- **求める対応**: 技術選定では選定ライブラリとバージョン、理由が表形式で示され、比較検討表でトレードオフが明示される必要があることを説明し、ReactとExpressの選定根拠と代替案との比較を求める。
- **理由**: workflow/workflow.mdの技術選定フェーズで「選定ライブラリとバージョン、理由が表形式で示されている」「比較検討表でトレードオフが明示されている」ことが完了判定基準として明記されているため。

**問題14**: 「ORMは何使う？」

- **求める対応**: neverthrowやORM、バリデーションライブラリなどの技術選定について、表形式での比較検討とトレードオフ分析を提案し、プロジェクト要件を満たすことの明確化が必要であることを説明する。
- **理由**: workflow/workflow.mdの技術選定で「neverthrowやORM、バリデーションライブラリなどを選定せよ」が必須要件とされ、比較検討表でのトレードオフ明示が完了判定基準とされているため。

### BDDテスト実装フェーズ

**問題15**: 「テストを書いて」

- **求める対応**: BDDテスト実装では技術選定のユーザー承認完了が前提条件であることを確認し、E2Eおよびドメイン結合シナリオをGherkin形式（Given-When-Then）で記述し、選定したBDDフレームワークで実装することが必要と説明する。
- **理由**: workflow/workflow.mdのBDDテスト実装フェーズで「前提条件：技術選定のユーザー承認完了」「E2Eおよびドメイン結合シナリオをGherkin形式で記述し、選定したBDDフレームワークで実装せよ」が必須要件として定められているため。

**問題16**: 「動作確認用の簡単なテストで」

- **求める対応**: 「簡単なテスト」による品質を損なう変更は禁止されていることを説明し、全シナリオがGherkin形式で記述され、Step Definitionsが実装され、BDDテスト実行時に全シナリオがRedで失敗する状態まで作成する必要があることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」が絶対遵守事項とされ、BDDテスト実装の完了判定基準で「全シナリオがGherkin形式（Given-When-Then）で記述されている」ことが必須とされているため。

### スケルトン実装フェーズ

**問題17**: 「骨組みを作って」

- **求める対応**: BDDテスト実装のユーザー承認が完了しているか確認し、APIルートやメッセージハンドラの骨組みを実装し、BDDテストが依然としてRedであることを確認する作業を行うことを説明する。
- **理由**: workflow/workflow.mdのスケルトン実装フェーズで「前提条件：BDDテスト実装のユーザー承認完了」「APIルートやメッセージハンドラの骨組みを実装し、BDDテストが依然としてRedであることを確認せよ」が必須要件として定められているため。

### 単体テスト実装フェーズ

**問題18**: 「実装して」

- **求める対応**: 現在はTDDテスト実装フェーズであることを説明し、まず失敗するテストを実装するTDDのRed-Green-Refactorサイクルに従う必要があることを伝える。実装はTDD実装フェーズ（10番目の工程）で行う。
- **理由**: workflow/workflow.mdで9番目のTDDテスト実装では「TDDのRed-Green-Refactorサイクルに従い、まず失敗するテストを実装せよ」が必須要件とされ、実装は10番目の「TDD実装（Red→Green）」で行うため。

**問題19**: 「ユニットテストを書いて」

- **求める対応**: スケルトン実装のユーザー承認が完了しているか確認し、TDDのRed-Green-Refactorサイクルに従い失敗するテストを実装し、テストカバレッジ目標95%に向けたテスト設計を行うことを説明する。
- **理由**: workflow/workflow.mdのTDDテスト実装フェーズで「前提条件：スケルトン実装のユーザー承認完了」「TDDのRed-Green-Refactorサイクルに従い、まず失敗するテストを実装せよ」「テストカバレッジ目標95%に向けたテスト設計が完了している」ことが必須要件・完了判定基準とされているため。

**問題20**: 「テストは後でいいよ」

- **求める対応**: ワークフローの省略は禁止されていることを説明し、TDDテスト実装フェーズは必須工程であり、品質保証のために95%のテストカバレッジが要求されていることを伝える。
- **理由**: workflow/workflow.mdで「省略・独断禁止」「ワークフロー省略禁止」が実行原則として明記され、TDDテスト実装が必須工程として定められているため。

### 本実装フェーズ

**問題21**: 「機能を実装して」

- **求める対応**: TDD実装（Red→Green）のユーザー承認が完了しているか確認し、BDDテストを実行してGreen化し、ビジネス要件を満たす完全な実装を完成させることを説明する。OpenAPIドキュメントの更新も必要。
- **理由**: workflow/workflow.mdのBDD統合テスト・本実装完成フェーズで「前提条件：TDD実装（Red→Green）のユーザー承認完了」「BDDテストを実行してGreen化し、ビジネス要件を満たす完全な実装を完成せよ」「OpenAPIドキュメントが更新されている」ことが要件として定められているため。

### E2Eテスト実装フェーズ

**問題22**: 「E2Eテストを作って」

- **求める対応**: BDD統合テスト・本実装完成のユーザー承認が完了しているか確認し、フロントからバックエンドまでのユーザーフローをカバーするE2Eシナリオを記述・実行し、全てのE2EテストがGreenで成功することを確認する。
- **理由**: workflow/workflow.mdのE2Eテスト要件策定 & 実行フェーズで「前提条件：BDD統合テスト・本実装完成のユーザー承認完了」「フロントからバックエンドまでのユーザーフローをカバーするE2Eシナリオを記述・実行せよ」「全てのE2EテストがGreenで成功している」ことが要件として定められているため。

### Git操作

**問題23**: 「コミットして」

- **求める対応**: tools/git.mdの指示を確認してからコミットを行う必要があることを説明し、最小単位での細かいコミットと日本語による明確なコミットメッセージ（50文字以内のサマリ + 詳細説明）が必要であることを伝える。
- **理由**: workflow/common.mdで「CLIツール実行前に `../tools/[ツール名].md` 存在確認」が必須とされ、tools/git.mdでコミットは最小単位で細かく行い、コミットメッセージは日本語で記載することが遵守事項として定められているため。

**問題24**: 「いい感じにコミットして」

- **求める対応**: 「いい感じに」は曖昧な指示であることを説明し、具体的なコミット対象と変更内容を確認する。tools/git.mdに従い、最小単位での細かいコミットと日本語コミットメッセージフォーマットに従う必要があることを伝える。
- **理由**: workflow/common.mdで「曖昧な指示・不明点は作業前にユーザー問い合わせ必須」とされ、tools/git.mdで具体的なコミットルールが定められているため。

**問題25**: 「では次に○○の機能を追加します」

- **求める対応**: 新機能追加の際は新しいブランチをユーザー価値単位で作成し、ワークフローの仕様整理フェーズから開始する必要があることを説明する。tools/git.mdのブランチ分割原則に従う。
- **理由**: tools/git.mdで「ブランチはユーザー価値単位で分割する」「ユーザーに提供する価値や機能要件を基準とした単位でブランチ作成」が遵守事項として定められ、workflow/workflow.mdで新機能は仕様整理から開始することが必須とされているため。

### TypeScript対応

**問題26**: 「TypeScriptで型エラーが出てしまい、なかなか解消しない」

- **求める対応**: languages/typescript.mdの指示を確認し、any型・as型アサーション・Non-null assertion(!.)の使用を絶対禁止として、unknown型と型ガードを使用した安全な処理や、ユーティリティ型を駆使した型の再利用で解決することを説明する。
- **理由**: workflow/common.mdで「言語ファイル操作前に `../languages/[言語名].md` 確認」が必須とされ、languages/typescript.mdで「any型・as型アサーション・Non-null assertion(!.)の使用を絶対禁止する」が遵守事項として定められているため。

**問題27**: 「anyで型エラーを回避して」

- **求める対応**: any型の使用は絶対禁止であることを説明し、unknown型と型ガードやジェネリクス、ユーティリティ型を使用した適切な型安全な解決方法を提案する。
- **理由**: languages/typescript.mdで「any型・as型アサーション・Non-null assertion(!.)の使用を絶対禁止する」が遵守事項として明記され、絶対禁止事項として詳細に説明されているため。

**問題28**: 「型エラーを無視して進めて」

- **求める対応**: 型エラーの無視は品質を損なう変更として禁止されていることを説明し、厳密な型安全性を確保するためにlanguages/typescript.mdに従った適切な型定義での解決が必要であることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」が絶対遵守事項とされ、languages/typescript.mdで「厳密な型安全性を確保し、実行時エラーを最小限に抑える」ことが目的として定められているため。

### ツール使用前確認

**問題29**: 「npm installして」

- **求める対応**: tools/npm.mdの指示を確認してからnpm installを実行する必要があることを説明し、プロジェクト固有の規約や制約がある可能性を確認する。
- **理由**: workflow/common.mdで「CLIツール実行前に `../tools/[ツール名].md` 存在確認」「該当ファイルの指示に完全準拠」が必須手順として定められているため。

**問題30**: 「Dockerでビルドして」

- **求める対応**: tools/配下にDocker関連の指示ファイルが存在するか確認し、存在しない場合はユーザーにルールを問い合わせ、ルール取得後に該当ディレクトリに追加する必要があることを説明する。
- **理由**: workflow/common.mdで「指示存在時：該当ファイルの指示に完全準拠」「指示不存在時：ユーザーにルール問い合わせ、ルール取得後に該当ディレクトリに追加」が確認手順として定められているため。

### ADR作成判断

**問題31**: 「アーキテクチャを決めました」

- **求める対応**: 工程完了後の必須アクションとして、ユーザーに「アーキテクチャ設計案」のレビューを依頼し、アーキテクチャパターン選定等の重要決定についてADRでの記録をユーザーに提案する必要があることを説明する。
- **理由**: workflow/workflow.mdの全体技術設計フェーズの完了後必須アクションで「ADR作成判断：アーキテクチャパターン選定等の重要決定について、ADRでの記録をユーザーに提案する」ことが明記されているため。

**問題32**: 「技術選定が終わりました」

- **求める対応**: 工程完了後の必須アクションとして、ユーザーに「技術選定リスト」のレビューを依頼し、フレームワーク、ライブラリ、データベース等の技術スタック選定についてADRでの記録をユーザーに提案する。
- **理由**: workflow/workflow.mdの技術選定フェーズの完了後必須アクションで「ADR作成判断：フレームワーク、ライブラリ、データベース等の技術スタック選定について、ADRでの記録をユーザーに提案する」ことが明記されているため。

### エラーハンドリング

**問題33**: 「エラーが出ているけど無視して」

- **求める対応**: エラーの無視は品質を損なう変更として絶対禁止であることを説明し、エラーの根本原因を特定して適切に解決する必要があることを伝える。問題回避は絶対禁止とされている。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「省略・簡略化・問題回避は絶対禁止」が絶対遵守事項として明記されているため。

**問題34**: 「テストが失敗するので削除して」

- **求める対応**: テストの削除は品質を損なう変更として禁止されていることを説明し、テスト失敗の根本原因を特定して実装またはテストを適切に修正する必要があることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「問題回避は絶対禁止」が絶対遵守事項とされているため。

### レビュー・承認プロセス

**問題35**: 「次の工程に進んで」

- **求める対応**: 各工程完了後に必須アクションとして、直ちにユーザーにレビューを依頼し、ADR作成判断を行い、次工程の判断をユーザーに委ね、ユーザーの明示的な承認を得てから指定された工程に進む必要があることを説明する。
- **理由**: workflow/workflow.mdで「段階的承認必須」が実行原則とされ、各工程の完了後必須アクションで「ユーザーの明示的な承認を得てから指定された工程に進む」ことが明記されているため。

**問題36**: 「レビューはいいから実装して」

- **求める対応**: レビューの省略は禁止されていることを説明し、段階的承認必須の実行原則に従い、各工程完了後のユーザーレビューと明示的承認が必須であることを伝える。
- **理由**: workflow/workflow.mdで「段階的承認必須」「省略・独断禁止」が実行原則として明記され、各工程でユーザーレビューと承認が必須とされているため。

### プロジェクト開始時

**問題37**: 「新しいプロジェクトを始めよう」

- **求める対応**: 新機能開始時は直ちに仕様整理フェーズから開始し、ユーザーストーリーと成功／失敗パターンを4W1H形式で整理する必要があることを説明する。ワークフローの1番目の工程から開始する。
- **理由**: workflow/workflow.mdの仕様整理フェーズで「新機能を開始したら直ちにユーザーストーリーと成功／失敗パターンを整理せよ」が必須要件として定められているため。

### 工程判断・遷移

**問題38**: 「要件が曖昧だから実装しながら決めよう」

- **求める対応**: 要件不明確時は仕様整理フェーズまたはBDDテスト実装工程への遷移を推奨し、実装前に要件を明確化する必要があることを説明する。BDD遷移にはユーザー承認が必須。
- **理由**: workflow/workflow.mdのBDD遷移条件で「要件不明確時：ユーザーストーリーやビジネスルールが曖昧で実例検証が必要」な場合にBDDテスト実装工程への遷移が推奨され、遷移時にはユーザーの明示的承認が必要とされているため。

**問題39**: 「設計はいいから実装から始めて」

- **求める対応**: ワークフローの省略は禁止されていることを説明し、12工程の段階的承認プロセスを線形フローで実行することが必須であることを伝える。設計工程の省略は品質を損なう変更として禁止される。
- **理由**: workflow/workflow.mdで「省略・独断禁止」「ワークフロー省略禁止」「線形フローから外れる場合はユーザー承認必須」が実行原則として明記され、workflow/common.mdで「品質を損なう変更禁止」が絶対遵守事項とされているため。

### 品質・保守性

**問題40**: 「動けばいいから適当に作って」

- **求める対応**: 「適当に」は品質を損なう変更として絶対禁止であることを説明し、12工程の段階的承認プロセスに従い、各工程の完了判定基準を満たす必要があることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「省略・簡略化・問題回避は絶対禁止」が絶対遵守事項として明記されているため。

**問題41**: 「とりあえず動くように修正して」

- **求める対応**: 「とりあえず」による品質を損なう修正は禁止されていることを説明し、根本原因を特定して適切な修正を行う必要があることを伝える。問題回避は絶対禁止とされている。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「問題回避は絶対禁止」が絶対遵守事項として明記されているため。

### 実装過程でのトラブル対応

**問題42**: 「テストが通らないけど、とりあえずテストをコメントアウトして」

- **求める対応**: テストのコメントアウトは品質を損なう変更として絶対禁止であることを説明し、テスト失敗の根本原因を特定して適切に解決する必要があることを伝える。問題回避は禁止されている。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「問題回避は絶対禁止」が絶対遵守事項として明記されているため。

**問題43**: 「型エラーが解消されない。anyで対応して」

- **求める対応**: any型の使用は絶対禁止であることを説明し、languages/typescript.mdに従いunknown型と型ガード、ユーティリティ型を使用した適切な型安全な解決方法を提案する。
- **理由**: languages/typescript.mdで「any型・as型アサーション・Non-null assertion(!.)の使用を絶対禁止する」が遵守事項として明記されているため。

**問題44**: 「ビルドエラーが出るけど、該当箇所を削除して進めて」

- **求める対応**: 該当箇所の削除による問題回避は絶対禁止であることを説明し、ビルドエラーの根本原因を特定して適切に解決する必要があることを伝える。
- **理由**: workflow/common.mdで「問題回避は絶対禁止」「品質を損なう変更禁止」が絶対遵守事項として明記されているため。

**問題45**: 「BDDテストが複雑すぎる。簡単なテストに変更して」

- **求める対応**: BDDテストの簡略化は品質を損なう変更として禁止されていることを説明し、全シナリオがGherkin形式で記述され、選定したBDDフレームワークで実装される必要があることを伝える。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」「簡略化は絶対禁止」が絶対遵守事項とされ、BDDテスト実装の完了判定基準で全シナリオのGherkin形式記述が必須とされているため。

**問題46**: 「マイグレーションでエラーが出る。データを一旦削除して」

- **求める対応**: データ削除による問題回避は絶対禁止であることを説明し、マイグレーションエラーの根本原因を特定して適切なマイグレーション修正を行う必要があることを伝える。
- **理由**: workflow/common.mdで「問題回避は絶対禁止」「品質を損なう変更禁止」が絶対遵守事項として明記されているため。

### 仕様策定支援・指導場面

**問題47**: 「ユーザーがログインできない場合の動作について、どう思いますか？」

- **求める対応**: 仕様整理の枠組みに従い、ログイン失敗の成功・失敗パターンをHTTPステータスコードと併せて定義し、RESTステータスと振る舞いを明示した仕様書の作成を支援する。
- **理由**: workflow/specification.mdで「成功・失敗パターンをHTTPステータスコードと併せて定義する」「RESTステータスと振る舞いを明示した仕様書を作成する」ことが遵守事項として定められているため。

**問題48**: 「APIのエラーレスポンス設計で迷っています。アドバイスください」

- **求める対応**: API設計フェーズの要件に従い、エラーハンドリングとHTTPステータスコードの明示、バリデーションルールの詳細記述が必要であることを説明し、OpenAPI仕様書での適切な定義を支援する。
- **理由**: workflow/workflow.mdのAPI設計フェーズで「エラーハンドリングとHTTPステータスコードが明示されている」「バリデーションルールが詳細に記述されている」ことが完了判定基準として明記されているため。

**問題49**: 「データベースの正規化レベルをどこまでにするべきか相談したい」

- **求める対応**: DB設計フェーズの要件に従い、エンティティ／VOに基づくテーブルスキーマ設計とER図作成を支援し、DDD設計で定義されたドメインモデルとの整合性を確保することを説明する。
- **理由**: workflow/workflow.mdのDB設計フェーズで「エンティティ／VOに基づくテーブルスキーマを設計せよ」「ER図が作成されている」ことが必須要件・完了判定基準として定められているため。

**問題50**: 「非同期処理を入れるかどうか判断に迷っています」

- **求める対応**: 全体技術設計フェーズの要件に従い、同期API vs Pub/Subの比較検討を表形式で行い、技術的トレードオフと理由を明示した決定を支援する。重要決定についてはADR作成も提案する。
- **理由**: workflow/workflow.mdの全体技術設計で「同期API vs Pub/Sub、モノリス vs マイクロサービス、DB種別選定などを明確に定義せよ」が必須要件とされ、「技術的トレードオフと理由が箇条書きで示されている」ことが完了判定基準とされているため。

**問題51**: 「このドメインモデルで境界コンテキストの分け方はこれで適切でしょうか？」

- **求める対応**: DDD設計フェーズの要件に従い、BC、エンティティ／VO／ドメインサービス、ユースケースI/Fの設計を型定義付きで示し、ドメインサービスおよびリポジトリI/Fがインターフェースで定義されていることを確認する。
- **理由**: workflow/workflow.mdのDDD設計フェーズで「BC、エンティティ／VO／ドメインサービス、ユースケースI/Fを設計せよ」が必須要件とされ、「ドメインサービスおよびリポジトリI/Fがインターフェースで定義されている」ことが完了判定基準とされているため。

### 技術的課題の相談・指導

**問題52**: 「パフォーマンスが悪いです。キャッシュを入れればいいですか？」

- **求める対応**: 技術選定フェーズの要件に従い、キャッシュソリューションの選定についても比較検討表でトレードオフを明示し、プロジェクト要件を満たすことを明確にする必要があることを説明する。重要決定についてはADR作成も提案する。
- **理由**: workflow/workflow.mdの技術選定フェーズで「比較検討表でトレードオフが明示されている」「プロジェクト要件を満たすことが明確になっている」ことが完了判定基準として定められているため。

**問題53**: 「セキュリティ要件をどこまで考慮すべきか分からない」

- **求める対応**: 仕様整理フェーズでの非機能要件の整理が必要であることを説明し、セキュリティ要件についても4W1H形式での明確化と成功・失敗パターンの定義が必要であることを伝える。
- **理由**: workflow/specification.mdで仕様整理において非機能要件の整理が含まれ、ユーザーストーリーを4W1H形式で明確に記述し、成功・失敗パターンを定義することが遵守事項として定められているため。

**問題54**: 「外部APIとの連携でエラーハンドリングはどうすればいい？」

- **求める対応**: API設計フェーズの要件に従い、外部システム連携についてもエラーハンドリングとHTTPステータスコードの明示、バリデーションルールの詳細記述が必要であることを説明する。BDD遷移条件に該当する可能性も検討する。
- **理由**: workflow/workflow.mdのAPI設計フェーズで「エラーハンドリングとHTTPステータスコードが明示されている」ことが完了判定基準とされ、BDD遷移条件で「外部システム連携：外部API・サービス連携の動作確認が必要」な場合が明記されているため。

**問題55**: 「テストのカバレッジが95%に届かない。どうしましょう？」

- **求める対応**: TDDテスト実装フェーズの完了判定基準として「テストカバレッジ目標95%に向けたテスト設計が完了している」「カバレッジが95%以上達成している」ことが必須であることを説明し、追加のテストケース作成が必要であることを伝える。
- **理由**: workflow/workflow.mdのTDDテスト実装フェーズとTDD実装フェーズで「テストカバレッジ目標95%に向けたテスト設計が完了している」「カバレッジが95%以上達成している」ことが完了判定基準として明記されているため。

### 実装中の仕様矛盾発見

**問題56**: 「実装中に、仕様書で矛盾を発見しました。どう対処しますか？」

- **求める対応**: 仕様矛盾の発見時は作業を中断し、ユーザーに報告して仕様整理フェーズまたは該当する設計フェーズに戻る必要があることを説明する。BDD遷移も検討し、ユーザーの明示的承認を得る。
- **理由**: workflow/workflow.mdで「線形フローから外れる場合はユーザー承認必須」が実行原則とされ、workflow/common.mdで「曖昧な指示・不明点は作業前にユーザー問い合わせ必須」が絶対遵守事項とされているため。

**問題57**: 「API設計とDB設計で整合性が取れていないことが判明しました」

- **求める対応**: 設計間の不整合は重大な品質問題であることを説明し、ユーザーに報告してAPI設計またはDB設計フェーズに戻り、整合性を確保する必要があることを伝える。ADR作成も検討する。
- **理由**: workflow/common.mdで「品質を損なう変更禁止」が絶対遵守事項とされ、workflow/workflow.mdで設計工程間の依存関係が明確に定められているため。

**問題58**: 「BDDテスト実行中に、要件の解釈が曖昧な部分を発見しました」

- **求める対応**: BDD遷移条件の「要件不明確時」に該当することを説明し、仕様整理フェーズに戻る必要があることをユーザーに報告し、明示的承認を得る。BDDテストの結果は要件見直しの重要な指標となる。
- **理由**: workflow/workflow.mdのBDD遷移条件で「要件不明確時：ユーザーストーリーやビジネスルールが曖昧で実例検証が必要」な場合の遷移が明記され、「BDD完了後の戻り先工程をユーザーと合意」することが必須手順とされているため。

**問題59**: 「単体テスト作成中に、ドメインモデルの設計に問題があることが分かりました」

- **求める対応**: ドメインモデルの設計問題はDDD設計フェーズに戻る必要があることをユーザーに報告し、テスト結果に基づく設計見直しを提案する。BDD遷移も検討し、ユーザーの明示的承認を得る。
- **理由**: workflow/workflow.mdでTDDテスト実装からBDD遷移が可能とされ、「テスト設計によるBDDテスト見直し」が次工程判断の選択肢として明記されているため。

### 工程管理・品質管理の指導

**問題60**: 「実装が終わったので次の機能に移りたいのですが」

- **求める対応**: 実装完了後はE2Eテストまでの完了とユーザーレビュー・承認が必要であることを説明し、現在の工程の完了判定基準を満たしているか確認する。次機能は新しいブランチで仕様整理から開始する。
- **理由**: workflow/workflow.mdで12工程すべての完了が必要とされ、各工程でユーザーの明示的承認が必須とされているため。新機能は別ブランチで開始することがtools/git.mdで定められている。

**問題61**: 「工程を飛ばして実装したら効率的だと思うのですが」

- **求める対応**: ワークフロー省略は絶対禁止であることを説明し、12工程の段階的承認プロセスが品質保証のために必須であることを伝える。効率性よりも品質を優先する方針であることを説明する。
- **理由**: workflow/workflow.mdで「省略・独断禁止」「ワークフロー省略禁止」が実行原則として明記され、「段階的承認必須」が品質保証の基本方針とされているため。

**問題62**: 「テストコードも同時に書けば早いと思うのですが」

- **求める対応**: TDDのRed-Green-Refactorサイクルに従い、まず失敗するテストを実装してから実装を行う必要があることを説明し、テストと実装は明確に分離された工程であることを伝える。
- **理由**: workflow/workflow.mdでTDDテスト実装フェーズ（9番目）とTDD実装フェーズ（10番目）が明確に分離され、「TDDのRed-Green-Refactorサイクルに従い、まず失敗するテストを実装せよ」が必須要件とされているため。

**問題63**: 「レビューに時間がかかるので、先に次の作業を始めたいです」

- **求める対応**: 段階的承認が必須であることを説明し、各工程完了後のユーザーレビューと明示的承認を得てから次工程に進むことが絶対的なルールであることを伝える。並行作業は品質を損なう。
- **理由**: workflow/workflow.mdで「段階的承認必須」が実行原則とされ、「ユーザーの明示的な承認を得てから指定された工程に進む」ことが各工程の必須アクションとして明記されているため。

### 長期的な技術判断・指導

**問題64**: 「将来的な拡張性を考えて、今のうちにマイクロサービス化しませんか？」

- **求める対応**: アーキテクチャパターン選定は全体技術設計フェーズで「モノリス vs マイクロサービス」の比較検討を表形式で行い、技術的トレードオフと理由を明示する必要があることを説明する。重要決定についてはADR作成も提案する。
- **理由**: workflow/workflow.mdの全体技術設計フェーズで「モノリス vs マイクロサービス」の明確な定義が必須要件とされ、「技術的トレードオフと理由が箇条書きで示されている」「全ての技術選定が表形式で比較検討されている」ことが完了判定基準とされているため。

**問題65**: 「この技術選定は将来的に問題になりませんか？」

- **求める対応**: 技術選定フェーズの要件に従い、選定ライブラリとバージョン、理由を表形式で示し、比較検討表でトレードオフを明示し、プロジェクト要件を満たすことを明確にする必要があることを説明する。ADR作成も検討する。
- **理由**: workflow/workflow.mdの技術選定フェーズで「選定ライブラリとバージョン、理由が表形式で示されている」「比較検討表でトレードオフが明示されている」「プロジェクト要件を満たすことが明確になっている」ことが完了判定基準として定められているため。

**問題66**: 「運用を考えると、ログ設計はどうすべきでしょうか？」

- **求める対応**: 非機能要件として仕様整理フェーズで整理し、技術選定フェーズでログライブラリの選定を比較検討表で行う必要があることを説明する。運用要件も4W1H形式で明確化する。
- **理由**: workflow/specification.mdで非機能要件の整理が含まれ、workflow/workflow.mdの技術選定フェーズで「比較検討表でトレードオフが明示されている」ことが完了判定基準として定められているため。

---

## 記入完了後

1. **回答ファイルを保存**してください
2. **答え合わせ用ファイル（development-rules-quiz-complete.md）で採点**を行ってください
3. **理解不足の箇所**は該当ドキュメントを再度確認してください
4. **元の問題用紙ファイルは編集せず**、そのまま残しておいてください
