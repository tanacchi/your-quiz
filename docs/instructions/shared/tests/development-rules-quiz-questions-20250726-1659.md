# 開発ルール理解確認問題集（問題用紙）

## ⚠️ 重要な注意事項

**この問題用紙は、解答記入専用です。答えを知っているかのような推測による記入は禁止です。**

必ず対象ドキュメント（workflow/、tools/、languages/ 配下）を読んだ上で、ルールに基づく正しい判断を記入してください。

## 対象ペルソナ

「Webやプログラミング技術、文章理解力は高いが、そのドキュメントで扱う対象についての知識はなく、指示を与えないと勝手な実装やバッドプラクティスを入れ込んだ実装をしてしまいがちで、目的や遵守事項を細かく明確に指示しないといけない開発者」

## 使用方法

### 回答前の準備

1. コンテキストをクリアする
2. 必要なドキュメント（workflow/、tools/、languages/ 配下）を読む

### 回答ファイルの作成

1. **この問題用紙ファイルをコピーして、新しいファイル名で保存する**
   - ファイル名例: `development-rules-quiz-questions-20241226-1430.md`
   - 形式: `development-rules-quiz-questions-YYYYMMDD-HHMM.md`（日付と時刻を含める）

### 回答の記入

1. コピーしたファイル内の各問題に対して「求める対応」と「理由」を記入する
2. **元のファイル（このファイル）は絶対に編集しない**

---

## 問題

### 仕様整理フェーズ

**問題1**: 「ユーザ投稿フォームをいい感じに作って」

- **求める対応**: 曖昧な指示のため作業を実行せず、4W1H形式で具体的な要件を確認する。仕様整理工程から開始し、ユーザーストーリーと成功/失敗パターンの明確化を求める。
- **理由**: common.mdで「ユーザの指示に少しでも曖昧さや語弊を生む表現が残る場合、作業を実行せずユーザに問い合わせること」が定められており、「いい感じに」は測定不可能な曖昧な表現のため。

**問題2**: 「ログイン機能を実装して」

- **求める対応**: 実装せず、まず仕様整理工程から開始する。ログイン機能の4W1H（誰が、何を、いつ、どこで、なぜ）を明確化し、成功・失敗パターンをHTTPステータスコードと併せて定義することをユーザーに提案する。
- **理由**: workflow.mdで「新機能を開始したら直ちにユーザーストーリーと成功／失敗パターンを整理せよ」と定められており、仕様整理なしの直接実装は工程違反のため。

**問題3**: 「なるべく早く動くものを作って」

- **求める対応**: 早急な実装は行わず、品質を保つために正しいワークフロー（仕様整理→全体技術設計→...）に従うことをユーザーに説明する。「省略禁止」ルールに従い、承認されたワークフローを一切省略せず実行する。
- **理由**: workflow.mdで「省略禁止：承認されたワークフローを一切省略せず実行すること」と定められており、common.mdでも「コード品質を損なう変更は一時的な対応であっても許されない」と明記されているため。

### 全体技術設計フェーズ

**問題4**: 「データベースはMySQLで」

- **求める対応**: 即座に受け入れず、architecture.mdの指示に従い技術的トレードオフと理由を明確化することを要求する。MySQL選定の具体的理由、他の選択肢との比較、アーキテクチャパターンとの整合性を確認し、ADR作成も提案する。
- **理由**: workflow.mdの全体技術設計工程で「選定したアーキテクチャパターンが図示され、技術的トレードオフと理由が箇条書きで示される」ことが完了判定基準として明記されており、単純な技術指定では不十分なため。

**問題5**: 「マイクロサービスにしよう」

- **求める対応**: マイクロサービス採用前に、モノリス vs マイクロサービスの技術的トレードオフを分析し、プロジェクトの要件・制約・チーム規模に対する適合性を評価する。選定理由を明確化し、ADR作成を提案する。
- **理由**: workflow.mdの全体技術設計工程で「同期API vs Pub/Sub、モノリス vs マイクロサービス、DB種別選定などを明確に定義せよ」とあり、単純な採用決定ではなく比較検討が必要なため。

**問題6**: 「RESTでAPIを作ろう」

- **求める対応**: REST採用前に、同期API vs Pub/Sub、REST vs GraphQL vs gRPCなどの選択肢を比較検討し、プロジェクト要件に対する技術的適合性を評価する。選定理由を明確化し、図示して説明する。
- **理由**: workflow.mdの全体技術設計工程で「同期API vs Pub/Sub」の明確な定義が求められており、RESTは同期APIの一選択肢であるため、全体的なAPI戦略の中での位置づけを明確にする必要があるため。

### DDD設計フェーズ

**問題7**: 「UserクラスとOrderクラスを作って」

- **求める対応**: 単純なクラス作成ではなく、DDD設計工程に従いBC（境界コンテキスト）、エンティティ／VO／ドメインサービス、ユースケースI/Fの設計を行う。型定義付きでエンティティ・VOを示し、リポジトリI/Fをインターフェースで定義する。
- **理由**: workflow.mdのDDD設計工程で「BC、エンティティ／VO／ドメインサービス、ユースケースI/Fを設計せよ」が必須要件として定められており、完了判定基準として「エンティティ・VOが型定義付きで示され、ドメインサービスおよびリポジトリI/Fがインターフェースで定義されている」ことが求められているため。

**問題8**: 「データベースのテーブル設計もやって」

- **求める対応**: DDD設計工程でのテーブル設計は不適切であることを説明し、正しい工程順序を提案する。まずDDD設計を完了し、ユーザー承認を得てからDB設計工程に進むことを説明する。
- **理由**: workflow.mdで工程順序が「3. DDD設計 → 4. API設計 → 5. DB設計」と明確に定義されており、「段階的承認必須：各工程完了後、必ずユーザーレビューを経てから次工程に進むこと」と規定されているため。

### API設計フェーズ

**問題9**: 「OpenAPIの仕様書を書いて」

- **求める対応**: api-design.mdの指示に従い、ドメインモデルに基づく詳細なAPI仕様をOpenAPI 3.0形式で作成する。全エンドポイントのリクエスト/レスポンス構造、エラーハンドリング、HTTPステータスコード、バリデーションルールを詳細に記述する。
- **理由**: workflow.mdのAPI設計工程で「ドメインモデルに基づく詳細なAPI仕様を作成し、OpenAPI形式で文書化せよ」が必須要件として定められており、完了判定基準として「OpenAPI 3.0仕様書が作成され、全エンドポイントのリクエスト/レスポンス構造が定義され、エラーハンドリングとHTTPステータスコードが明示され、バリデーションルールが詳細に記述されている」ことが求められているため。

**問題10**: 「とりあえずGETだけでいいよ」

- **求める対応**: 「とりあえず」は品質を損なう一時的対応として拒否する。完全なCRUD操作を含む包括的なAPI設計を行い、GET以外のエンドポイントも含めて全体的なAPI構成を検討することを提案する。
- **理由**: common.mdで「コード品質を損なう変更は一時的な対応であっても許されない」と明記されており、「とりあえず」は品質低下につながる一時的対応の典型例であるため。また「独断での判断・省略・簡略化、問題の回避は絶対に行わないこと」にも該当するため。

### DB設計フェーズ

**問題11**: 「ユーザーテーブルを作って」

- **求める対応**:
- **理由**:

**問題12**: 「とりあえず動くように」

- **求める対応**:
- **理由**:

### 技術選定フェーズ

**問題13**: 「ReactとExpressでいいよ」

- **求める対応**:
- **理由**:

**問題14**: 「ORMは何使う？」

- **求める対応**:
- **理由**:

### BDDテスト実装フェーズ

**問題15**: 「テストを書いて」

- **求める対応**:
- **理由**:

**問題16**: 「動作確認用の簡単なテストで」

- **求める対応**:
- **理由**:

### スケルトン実装フェーズ

**問題17**: 「骨組みを作って」

- **求める対応**:
- **理由**:

### 単体テスト実装フェーズ

**問題18**: 「実装して」

- **求める対応**:
- **理由**:

**問題19**: 「ユニットテストを書いて」

- **求める対応**:
- **理由**:

**問題20**: 「テストは後でいいよ」

- **求める対応**:
- **理由**:

### 本実装フェーズ

**問題21**: 「機能を実装して」

- **求める対応**:
- **理由**:

### E2Eテスト実装フェーズ

**問題22**: 「E2Eテストを作って」

- **求める対応**:
- **理由**:

### Git操作

**問題23**: 「コミットして」

- **求める対応**: git.mdの指示に従い、最小単位での細かいコミットと日本語による明確なコミットメッセージ（50文字以内のサマリ＋詳細説明）を作成する。変更内容、理由、ユーザー指示を含めて記録する。
- **理由**: git.mdで「コミットは最小単位で細かく行う」「コミットメッセージは日本語で記載する」「1行目：変更内容のサマリ（50文字以内）、2行目：空行、3行目以降：詳細説明」の構造が必須要件として定められているため。

**問題24**: 「いい感じにコミットして」

- **求める対応**:
- **理由**:

**問題25**: 「では次に○○の機能を追加します」

- **求める対応**:
- **理由**:

### TypeScript対応

**問題26**: 「TypeScriptで型エラーが出てしまい、なかなか解消しない」

- **求める対応**:
- **理由**:

**問題27**: 「anyで型エラーを回避して」

- **求める対応**: any型の使用を絶対拒否し、typescript.mdの指示に従い型ガードやunknown型を使用した安全な型処理を提案する。型エラーの根本原因を分析し、適切な型定義による解決策を提示する。
- **理由**: typescript.mdで「any型・as型アサーション・Non-null assertion(!.)の使用を絶対禁止する」と明記されており、any型は「絶対禁止事項」として最優先で守るべきルールであるため。

**問題28**: 「型エラーを無視して進めて」

- **求める対応**:
- **理由**:

### ツール使用前確認

**問題29**: 「npm installして」

- **求める対応**: npm使用を拒否し、npm.mdの指示に従いpnpmの使用を要求する。`pnpm install`コマンドの実行を提案し、package.jsonがある場合は必ずpnpmを使用することを説明する。
- **理由**: npm.mdで「package.jsonがあるプロジェクトでは必ずpnpmを使用する」「npm、yarnの使用を禁止し、チーム内での環境統一を図る」と明記されており、npmは明確に禁止ツールとして指定されているため。

**問題30**: 「Dockerでビルドして」

- **求める対応**:
- **理由**:

### ADR作成判断

**問題31**: 「アーキテクチャを決めました」

- **求める対応**:
- **理由**:

**問題32**: 「技術選定が終わりました」

- **求める対応**:
- **理由**:

### エラーハンドリング

**問題33**: 「エラーが出ているけど無視して」

- **求める対応**: エラーの無視を拒否し、エラーの根本原因を分析して適切な解決策を提示する。品質を損なう回避策ではなく、正しい修正方法を検討することを提案する。
- **理由**: common.mdで「コード品質を損なう変更は一時的な対応であっても許されない」「独断での判断・省略・簡略化、問題の回避は絶対に行わないこと」と明記されており、エラー無視は品質低下と問題回避の典型例であるため。

**問題34**: 「テストが失敗するので削除して」

- **求める対応**:
- **理由**:

### レビュー・承認プロセス

**問題35**: 「次の工程に進んで」

- **求める対応**: 現工程の完了確認とユーザーレビューを最優先で要求する。「直ちにユーザーに[現工程名]のレビューを依頼する」ことを実行し、ユーザーの明示的な承認を得てから次工程への遷移を行う。
- **理由**: workflow.mdで「段階的承認必須：各工程完了後、必ずユーザーレビューを経てから次工程に進むこと」「ユーザーの明示的な承認を得てから指定された工程に進む」と定められており、レビューなしの工程遷移は禁止されているため。

**問題36**: 「レビューはいいから実装して」

- **求める対応**:
- **理由**:

### プロジェクト開始時

**問題37**: 「新しいプロジェクトを始めよう」

- **求める対応**:
- **理由**:

### 工程判断・遷移

**問題38**: 「要件が曖昧だから実装しながら決めよう」

- **求める対応**: 実装先行を拒否し、仕様整理工程の重要性を説明する。曖昧な要件こそspecification.mdに従い4W1H形式で明確化し、成功・失敗パターンをHTTPステータスコードと併せて定義することを提案する。
- **理由**: workflow.mdで「新機能を開始したら直ちにユーザーストーリーと成功／失敗パターンを整理せよ」が仕様整理の必須要件として定められており、曖昧な要件は実装前に明確化すべき事項であるため。

**問題39**: 「設計はいいから実装から始めて」

- **求める対応**:
- **理由**:

### 品質・保守性

**問題40**: 「動けばいいから適当に作って」

- **求める対応**: 「適当」「動けばいい」という品質軽視を拒否し、正しいワークフローに従った品質重視の開発を提案する。仕様整理から始まる11工程のワークフローを省略せず実行することを説明する。
- **理由**: common.mdで「コード品質を損なう変更は一時的な対応であっても許されない」と明記されており、「適当」は品質低下の典型的な表現であるため。また「独断での判断・省略・簡略化、問題の回避は絶対に行わないこと」にも該当するため。

**問題41**: 「とりあえず動くように修正して」

- **求める対応**:
- **理由**:

### 実装過程でのトラブル対応

**問題42**: 「テストが通らないけど、とりあえずテストをコメントアウトして」

- **求める対応**:
- **理由**:

**問題43**: 「型エラーが解消されない。anyで対応して」

- **求める対応**:
- **理由**:

**問題44**: 「ビルドエラーが出るけど、該当箇所を削除して進めて」

- **求める対応**:
- **理由**:

**問題45**: 「BDDテストが複雑すぎる。簡単なテストに変更して」

- **求める対応**:
- **理由**:

**問題46**: 「マイグレーションでエラーが出る。データを一旦削除して」

- **求める対応**:
- **理由**:

### 仕様策定支援・指導場面

**問題47**: 「ユーザーがログインできない場合の動作について、どう思いますか？」

- **求める対応**:
- **理由**:

**問題48**: 「APIのエラーレスポンス設計で迷っています。アドバイスください」

- **求める対応**:
- **理由**:

**問題49**: 「データベースの正規化レベルをどこまでにするべきか相談したい」

- **求める対応**:
- **理由**:

**問題50**: 「非同期処理を入れるかどうか判断に迷っています」

- **求める対応**:
- **理由**:

**問題51**: 「このドメインモデルで境界コンテキストの分け方はこれで適切でしょうか？」

- **求める対応**:
- **理由**:

### 技術的課題の相談・指導

**問題52**: 「パフォーマンスが悪いです。キャッシュを入れればいいですか？」

- **求める対応**:
- **理由**:

**問題53**: 「セキュリティ要件をどこまで考慮すべきか分からない」

- **求める対応**:
- **理由**:

**問題54**: 「外部APIとの連携でエラーハンドリングはどうすればいい？」

- **求める対応**:
- **理由**:

**問題55**: 「テストのカバレッジが95%に届かない。どうしましょう？」

- **求める対応**:
- **理由**:

### 実装中の仕様矛盾発見

**問題56**: 「実装中に、仕様書で矛盾を発見しました。どう対処しますか？」

- **求める対応**:
- **理由**:

**問題57**: 「API設計とDB設計で整合性が取れていないことが判明しました」

- **求める対応**:
- **理由**:

**問題58**: 「BDDテスト実行中に、要件の解釈が曖昧な部分を発見しました」

- **求める対応**:
- **理由**:

**問題59**: 「単体テスト作成中に、ドメインモデルの設計に問題があることが分かりました」

- **求める対応**:
- **理由**:

### 工程管理・品質管理の指導

**問題60**: 「実装が終わったので次の機能に移りたいのですが」

- **求める対応**:
- **理由**:

**問題61**: 「工程を飛ばして実装したら効率的だと思うのですが」

- **求める対応**: 工程省略を拒否し、「省略禁止：承認されたワークフローを一切省略せず実行すること」の重要性を説明する。各工程の意味と段階的承認の価値を説明し、品質保証のために必要であることを伝える。
- **理由**: workflow.mdで「省略禁止：承認されたワークフローを一切省略せず実行すること」と明記されており、効率性を理由とした工程省略は明確に禁止されているため。また「段階的承認必須」の原則にも反するため。

**問題62**: 「テストコードも同時に書けば早いと思うのですが」

- **求める対応**:
- **理由**:

**問題63**: 「レビューに時間がかかるので、先に次の作業を始めたいです」

- **求める対応**:
- **理由**:

### 長期的な技術判断・指導

**問題64**: 「将来的な拡張性を考えて、今のうちにマイクロサービス化しませんか？」

- **求める対応**:
- **理由**:

**問題65**: 「この技術選定は将来的に問題になりませんか？」

- **求める対応**:
- **理由**:

**問題66**: 「運用を考えると、ログ設計はどうすべきでしょうか？」

- **求める対応**:
- **理由**:
