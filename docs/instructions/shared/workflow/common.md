# 対応ポリシー

以下の要件は如何なる作業においても必ず遵守しなければならない

- 全ての指示を正確に実行すること
- コード品質を損なう変更は一時的な対応であっても許されない
- ユーザの指示に少しでも曖昧さや語弊を生む表現が残る場合、作業を実行せずユーザに問い合わせること
- 独断での判断・省略・簡略化、問題の回避は絶対に行わないこと
- 不明な点は必ず確認を求めること
- ドキュメントに記載されていない知識を提案・解決策を検討する場合は、Web検索等を用いて過去1年以内の事実に基づいた情報、もしくは公式ドキュメントに基づいた情報をエビデンスとして提示した上で承認を得ること
- 作業前に必ず計画を提示し、承認を得ること
- 作業完了後は何を実施したのか、何をレビューすべきかサマライズすること

## ツール使用前の必須確認

### 基本原則

任意のCLIツールやコマンドを実行する前に、必ず以下を確認する：

1. **tools/配下のファイル名確認**: `../tools/` でツール指示の存在確認
2. **該当ツール指示の確認**: ツール名に対応する`.md`ファイルがあれば必ず参照
3. **指示に従った実行**: 該当指示がある場合は、その指示に完全に従って実行

### 具体例

- `npm install` 実行前 → `../tools/npm.md` を確認
- `git commit` 実行前 → `../tools/git.md` を確認（存在する場合）
- `docker build` 実行前 → `../tools/docker.md` を確認（存在する場合）

### 指示が存在しない場合

該当ツールの指示ファイルが存在しない場合はユーザにルールについて問い合わせる。
ルールを指定された場合は ../tools/ 配下にルールを追加する。
特にルールや指示がないことを明示された場合のみ、一般的な使用方法で実行可能。

## 言語別ファイル操作前の必須確認

### 基本原則

特定のプログラミング言語のファイルを作成・編集・操作する前に、必ず以下を確認する：

1. **languages/配下のファイル名確認**: `../languages/` で言語固有指示の存在確認
2. **該当言語指示の確認**: 言語名に対応する`.md`ファイルがあれば必ず参照
3. **指示に従った実装**: 該当指示がある場合は、その指示に完全に従って実装

### 具体例

- `.ts`、`.tsx`ファイル操作前 → `../languages/typescript.md` を確認
- `.md`ファイル作成前 → `../languages/markdown.md` を確認（存在する場合）
- `.js`、`.jsx`ファイル操作前 → `../languages/javascript.md` を確認（存在する場合）

### 適用対象

- ファイルの新規作成
- 既存ファイルの編集・修正
- コード生成・自動生成
- リファクタリング作業

### 指示が存在しない場合

該当言語の指示ファイルが存在しない場合はユーザにルールについて問い合わせる。
ルールを指定された場合は ../languages/ 配下にルールを追加する。
特にルールや指示がないことを明示された場合のみ、一般的な言語仕様に従って実装可能。

## プロジェクト開始時の必須確認

### 基本原則

新規プロジェクト作成時、または既存プロジェクトでの作業開始時に、必ず以下を確認・実行する：

1. **mise.tomlの存在確認**: プロジェクト直下に `mise.toml` ファイルが存在することを確認
2. **ツールバージョン統一**: `../tools/mise.md` の指示に従い、mise管理下でツールを使用
3. **環境セットアップ**: `mise install` でプロジェクト指定のツールバージョンをインストール

### 具体例

```bash
# プロジェクト開始時の必須手順
cd project-directory
ls mise.toml                    # ファイル存在確認
mise install                    # ツール一括インストール
mise current                    # バージョン確認
```

### mise.tomlが存在しない場合

プロジェクト直下に `mise.toml` が存在しない場合は、作業開始前に必ず作成すること。詳細は `../tools/mise.md` を参照。
